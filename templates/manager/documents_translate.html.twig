{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}
	- Traduire un document
{% endblock %}

{% block content %}
	<div class="page">
		<div class="table-container-traitements">
			<div class="header headretour">
				<a href="javascript:history.back()">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 1024 1024">
						<path fill="currentColor" d="M609.408 149.376L277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0a30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688a29.12 29.12 0 0 0-41.728 0"/>
					</svg>
				</a>
				<h2>Traduire un document</h2>
			</div>

			{{ form_start(form, { "attr": { "class": "sous-traitantform", "enctype": "multipart/form-data" } }) }}

			<!-- Document Translation Section -->
			<div class="sectt border-top-none" >
				<h3>Traduction du document</h3>

				<div class="form-group">
					<div class="form-group1 width-100">
						{{ form_label(form.libelle_en) }}
						{{ form_widget(form.libelle_en, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>

				<div class="form-group">
					<div class="form-group1">
						<label>Fichier traduit</label>
						<button type="button" class="file-button" onclick="document.getElementById('form_documentFile').click();">
							<i class="fa fa-file"></i>
							Joindre un fichier
						</button>
						{{ form_widget(form.documentFile, {'attr': {'id': 'fileInput', 'class': 'd-none', 'onchange': 'updateFileName(this)'}}) }}
						<div class="invalid-feedback">{{ form_errors(form.documentFile) | striptags }}</div>
					</div>
				</div>
			</div>
			<br>
			<!-- Submit Button -->
			<button type="submit" class="submit-button">Enregistrer</button>

			{{ form_end(form) }}
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	 <script>
	        // Update button text when a file is selected
	        function updateFileName(input) {
	            const button = document.querySelector('.file-button');
	            if (input.files.length > 0) {
	                button.innerHTML = `<i class="fa fa-file"></i> ${input.files[0].name}`;
	            } else {
	                button.innerHTML = `<i class="fa fa-file"></i> Joindre un fichier`;
	            }
	        }
	    </script>
{% endblock %}
